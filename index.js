/**
 * @license
 * Generated : 2019-09-26
 * Version : 0.5.0
 * Author : rikaaa.org | Yuki Hata
 * Url : http://rikaaa.org
 *
 *
 *
 * Copyright [2019] [rikaaa.org | Yuki Hata]
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __assign=function(){return(__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function __generator(e,t){var r,n,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=(a=l.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}function __values(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function __read(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)l.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return l}var onebang=function(e){var t,r=!0;return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return r?(t=e.apply(this,n),r=!1,t):(e=null,!1)}},handleClick=function(e,t){for(var r=onebang(t),n=function(e){return e.preventDefault(),r(e),!1},a=0;a<e.length;a++)e[a].onclick=n};Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),r=t.length,n=new Array(r);r--;)n[r]=[t[r],e[t[r]]];return n});var _this=void 0,dataStringify=function(e){var t,r,n={};try{for(var a=__values(Object.entries(e)),o=a.next();!o.done;o=a.next()){var l=__read(o.value,2),i=l[0],u=l[1],c=null;c="function"==typeof u?u.toString():u,n[i]=c}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return n},dataParse=function(e){var t,r,n={};try{for(var a=__values(Object.entries(e)),o=a.next();!o.done;o=a.next()){var l=__read(o.value,2),i=l[0],u=l[1],c=null;c="string"==typeof u&&u.match(/(^function|=>)/)?Function.call(_this,"return "+u)():u,n[i]=c}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return n};if(!self.history||!self.history.pushState)throw new Error("rikaaa-paging.js はこのブラウザに対応していません。");var pushState=function(e,t,r){history.pushState(dataStringify(e),t,r)},replaceState=function(e,t,r){history.replaceState(dataStringify(e),t,r)},handlePopstate=function(e){var t=onebang(e);self.onpopstate=function(e){t(dataParse(__assign({},e.state)))}},takeReady=function(e,t,r){var n=location.href,a={},o=function(r){var o=!("click"!==r.type&&!r.type);a.currentUrl=n,a.href=o?r.target.href:r.href,a.afterDelay=o?0:r.afterDelay,a.onProgress=o?function(){}:r.onProgress,a.onDelay=o?function(){}:r.onDelay,t.next({ready:e(a),isPushstate:!!o})};handleClick(r,o),handlePopstate(o)};Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},r=Math.pow(2,53)-1,n=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),r)};return function(e){var r=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var a,o=arguments.length>1?arguments[1]:void 0;if(void 0!==o){if(!t(o))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(a=arguments[2])}for(var l,i=n(r.length),u=t(this)?Object(new this(i)):new Array(i),c=0;c<i;)l=r[c],u[c]=o?void 0===a?o(l,c):o.call(a,l,c):l,c+=1;return u.length=i,u}}());var oReq=new XMLHttpRequest,HTMLtextToHTMLElement=function(e){var t=document.createElement("html"),r=e.match(/<html[^>]*>([\s\S.]*)<\/html>/i)[1];return t.innerHTML=r,t},request=function(e,t,r){oReq.abort(),oReq.open("GET",e,!0),oReq.onprogress=function(e){if(e.lengthComputable){var r=e.loaded/e.total*100;t({percentComplete:r})}else t({percentComplete:null})},oReq.onreadystatechange=function(){4===oReq.readyState&&r({html:200===oReq.status?HTMLtextToHTMLElement(oReq.response):null,status:oReq.status,statusText:oReq.statusText,url:e})},oReq.send()},getMeta=function(e,t){return Array.from(t.querySelectorAll("meta")).filter(function(t){return t.getAttribute("name")===e})},takeStart=function(e,t,r,n){request(r.href,r.onProgress,function(a){var o={},l="OK"===a.statusText;l||(self.location.href=r.href);o.ready=r,o.idAttribute=n,o.target=l?a.html.querySelector("#"+n):null,o.classList=l?Array.from(a.html.querySelector("#"+n).classList):null,o.description=l&&a.html?getMeta("description",a.html)[0].getAttribute("content"):null,o.keywords=l&&a.html?getMeta("keywords",a.html)[0].getAttribute("content").split(","):null,o.response=a,o.title=l?a.html.querySelector("title").textContent:null,o.afterDelay=0,o.onDelay=function(){},t.next(e(o))})},elementWrap=function(e){var t=document.createElement("div");return e.parentNode.insertBefore(t,e),t.appendChild(e),t},elementUnwrap=function(e){var t=e,r=Array.from(e.childNodes)[0];return t.parentNode.insertBefore(r,t),t.parentNode.removeChild(t),r},takeEnd=function(e,t,r){var n={},a=document.getElementById(r.idAttribute),o=elementWrap(a);o.removeChild(a),o.appendChild(r.target),document.title=r.title,getMeta("keywords",document)[0].setAttribute("content",r.keywords.join(",")),getMeta("description",document)[0].setAttribute("content",r.description),n.previousTarget=a,n.updatedTarget=elementUnwrap(o),n.afterDelay=0,n.newUrl=r.response.url,n.ready=r.ready,n.start=r,n.afterDelay=0,n.onDelay=function(){},setTimeout(function(){return t.next(e(n))},0)},takeResult=function(e,t,r,n){e({oldUrl:r.ready.currentUrl,newUrl:r.ready.href,updatedTarget:r.updatedTarget,previousTarget:r.previousTarget}),n&&pushState(r.ready,r.start.title,r.newUrl),setTimeout(function(){return t.next()},0)},delayMain=function(e,t,r){var n=null,a=null,o=function(l){n||(n=l);var i=l-n;i<=e?(a=requestAnimationFrame(o),t(0===e?0:i/e)):(cancelAnimationFrame(a),t(1),r())};a=requestAnimationFrame(o)},delay=function(e,t,r){delayMain(e,r,function(){t.next()})},LINER="LINEAR",EASE_IN="EASE_IN",EASE_OUT="EASE_OUT",EASE_IN_OUT="EASE_IN_OUT",curve=function(e,t){switch(e){case LINER:return t;case EASE_IN:return t*t;case EASE_OUT:return t*(2-t);case EASE_IN_OUT:return t<.5?2*t*t:(4-2*t)*t-1;default:return t}},entires={},callbacks={},rikaaaPaging=function(e,t){var r,n;replaceState({currentUrl:location.href,href:location.href,afterDelay:0,onProgress:function(){},onDelay:function(){}},document.title,self.location.href);var a=function(){var r=function(){var r,n,a,o,l,i;return __generator(this,function(u){switch(u.label){case 0:return[4];case 1:r=u.sent(),u.label=2;case 2:return[4,takeReady(callbacks.ready,r,t)];case 3:return n=u.sent(),a=n.ready,o=n.isPushstate,[4,delay(a.afterDelay,r,a.onDelay)];case 4:return u.sent(),[4,takeStart(callbacks.start,r,a,e)];case 5:return l=u.sent(),[4,delay(l.afterDelay,r,l.onDelay)];case 6:return u.sent(),[4,takeEnd(callbacks.end,r,l)];case 7:return i=u.sent(),[4,delay(i.afterDelay,r,i.onDelay)];case 8:return u.sent(),[4,takeResult(callbacks.result,r,i,o)];case 9:return u.sent(),[3,2];case 10:return[2]}})}();r.next(),r.next(r)};entires.ready=function(e){return void 0===e&&(e=function(e){return e}),callbacks.ready=e,a(),entires},entires.start=function(e){return void 0===e&&(e=function(e){return e}),callbacks.start=e,a(),entires},entires.end=function(e){return void 0===e&&(e=function(e){return e}),callbacks.end=e,a(),entires},entires.result=function(e){void 0===e&&(e=function(){}),callbacks.result=e,a()},entires.curve=curve;try{for(var o=__values(Object.entries(entires)),l=o.next();!l.done;l=o.next()){l.value[1]()}}catch(e){r={error:e}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return entires};export default rikaaaPaging;